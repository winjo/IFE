function Node(e){this.data=e,this.parent=null,this.children=[]}function Tree(e){var t=new Node(e);this._root=t}function findIndex(e,t){for(var n,r=0;r<e.length;r++)e[r].data===t&&(n=r);return n}Tree.prototype.traverseDF=function(e){!function t(n){for(var r=0,o=n.children.length;r<o;r++)t(n.children[r]);e(n)}(this._root)},Tree.prototype.traverseBF=function(e){var t=[];for(t.push(this._root),currentTree=t.shift();currentTree;){for(var n=0,r=currentTree.children.length;n<r;n++)t.push(currentTree.children[n]);e(currentTree),currentTree=t.shift()}},Tree.prototype.contains=function(e,t){t.call(this,e)},Tree.prototype.add=function(e,t,n){var r=new Node(e),o=null,i=function(e){e.data===t&&(o=e)};if(this.contains(i,n),!o)throw new Error("Cannot add node to a non-existent parent.");o.children.push(r),r.parent=o},Tree.prototype.remove=function(e,t,n){var r,o=null,i=null,d=function(e){e.data===t&&(o=e)};if(this.contains(d,n),!o)throw new Error("Parent does not exist.");if(r=findIndex(o.children,e),void 0===r)throw new Error("Node to remove does not exist.");return i=o.children.splice(r,1)},Tree.prototype.traversePre=function(e){!function t(n){e(n);for(var r=0,o=n.children.length;r<o;r++)t(n.children[r])}(this._root)},Tree.prototype.traversePost=function(e){!function t(n){for(var r=0,o=n.children.length;r<o;r++)t(n.children[r]);e(n)}(this._root)},Tree.prototype.traverseSearch=function(e){var t=!1;!function n(r){t=e(r);for(var o=0,i=r.children.length;o<i&&!t;o++)n(r.children[o])}(this._root)},Tree.prototype.traverseDLR=function(e){!function t(n){e(n),"undefined"!=typeof n.children[0]&&t(n.children[0]),"undefined"!=typeof n.children[1]&&t(n.children[1])}(this._root)},Tree.prototype.traverseLDR=function(e){!function t(n){"undefined"!=typeof n.children[0]&&t(n.children[0]),e(n),"undefined"!=typeof n.children[1]&&t(n.children[1])}(this._root)},Tree.prototype.traverseLRD=function(e){!function t(n){"undefined"!=typeof n.children[0]&&t(n.children[0]),"undefined"!=typeof n.children[1]&&t(n.children[1]),e(n)}(this._root)},function(){var e=document.getElementsByClassName("first"),t=document.getElementsByClassName("second"),n=document.getElementsByClassName("third"),r=document.getElementsByClassName("fourth"),o=document.getElementsByClassName("fifth"),i=0,d=new Tree(e[0]);for(i=0;i<t.length;i++)d.add(t[i],e[0],d.traverseBF);for(i=0;i<n.length;i++)i<3?d.add(n[i],t[0],d.traverseBF):d.add(n[i],t[1],d.traverseBF);for(i=0;i<r.length;i++)i<4?d.add(r[i],n[0],d.traverseBF):i<6?d.add(r[i],n[2],d.traverseBF):i<9?d.add(r[i],n[3],d.traverseBF):d.add(r[i],n[4],d.traverseBF);d.add(o[0],r[9],d.traverseBF);var a=document.getElementById("delete"),c=document.getElementById("text"),l=document.getElementById("add"),s=null;e[0].addEventListener("click",function(e){s=e.target,s.className.indexOf("active")<0?s.className+=" active":s.className=(" "+s.className+" ").replace(" active "," ")},!1),a.onclick=function(){null!==s&&d.traverseSearch(function(e){if(e.data===s){s.parentNode.removeChild(s);var t=findIndex(e.parent.children,s);return e.parent.children.splice(t,1),!0}return!1})},l.onclick=function(){if(c.value&&s){var e=document.createElement("span"),t=document.createTextNode(c.value);e.appendChild(t),d.traverseSearch(function(t){if(t.data===s){s.appendChild(e);var n=new Node(e);return t.children.push(n),n.parent=t,!0}return!1})}}}();